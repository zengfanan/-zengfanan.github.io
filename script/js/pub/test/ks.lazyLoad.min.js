!function (a) {
	"function" == typeof define ? define(a) : a("", window.ue = window.ue || {}, "")
}
(function (a, b, c) {
	function d(a) {
		return this.constructor !== d ? new d(a) : (this._filling = 0, this.setting = $.extend({
					id : "j-comment-box",
					type : "textarea",
					callback : function () {}

				}, a), void this.init())
	}
	d.prototype = {
		constructor : d,
		GetId : function (a) {
			return "string" == typeof a ? document.getElementById(a) : a
		},
		GetPosTop : function () {
			for (var a = this, b = a.GetId(a.setting.id), c = 0; b; )
				c += b.offsetTop, b = b.offsetParent;
			return c
		},
		getStyle : function (a, b) {
			var c = a.currentStyle || document.defaultView.getComputedStyle(a, null),
			d = c[b];
			return d
		},
		lazyContent : function (a) {
			var b = this,
			c = document.documentElement.clientHeight || document.body.clientHeight,
			d = document.documentElement.scrollTop || document.body.scrollTop,
			e = b.GetPosTop(b.setting.id),
			f = b.GetId(b.setting.id),
			g = (b.getStyle(f, "height"), e - d);
			if (1 != b._filling && 0 == b._filling && g >= 0 && c > g) {
				var h = b.GetId(" " === b.setting.cid ? b.setting.id : b.setting.cid);
				if ("textarea" == b.setting.type) {
					var i = h.getElementsByTagName("textarea")[0].value,
					j = document.createElement("div");
					j.innerHTML = i,
					h.appendChild(j)
				}
				b._filling = 1,
				"[object Function]" == Object.prototype.toString.call(a) && a()
			}
		},
		addEvent : function (a, b, c) {
			a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent ? a.attachEvent("on" + b, c) : a["on" + b] = c
		},
		init : function () {
			var a = this;
			a.lazyContent(a.setting.callback),
			0 == a._filling && $(window).unbind("scroll.lazyLoad").bind("scroll.lazyLoad", function () {
				a.lazyContent(a.setting.callback)
			})
		}
	},
	"[object Object]" == {}

	.toString.call(c) ? c.exports = d : b.lazyload = d
});
